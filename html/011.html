
	<!DOCTYPE html>
	<html name="html">
	<head>
		<title>PJ-011-faire des dessins</title>
		<link rel="icon" type="image/png" href="../img/favicon.png" />
		<link rel="alternate" type="application/atom+xml" title="Atom" href="../atom.xml" />
		<link rel="stylesheet" type="text/css" href="../css/style.css">
		<link rel="stylesheet" type="text/css" href="../css/code.css">
		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
		<script type="text/javascript" src="../js/script_menu.js"></script>
		<script type="text/javascript" src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?skin=sunburst"></script>
	</head>
    <!--December 24 2016 14:58:13.-->
    <body name="body">

	<div id="menu">
		<ul><li><a href="000"><span class="numbers">000</span> - presentation</a></li><li><a href="001"><span class="numbers">001</span> - introduction</a></li><li><a href="002"><span class="numbers">002</span> - premisse</a></li><li><a href="003"><span class="numbers">003</span> - les pointeurs</a></li><li><a href="004"><span class="numbers">004</span> - enum union struct</a></li><li><a href="005"><span class="numbers">005</span> - preprocesseur</a></li><li><a href="006"><span class="numbers">006</span> - binaire</a></li><li><a href="007"><span class="numbers">007</span> - visual studio et winapi</a></li><li><a href="008"><span class="numbers">008</span> - mise en place d'un projet</a></li><li><a href="009"><span class="numbers">009</span> - et la lumiere fut</a></li><li><a href="010"><span class="numbers">010</span> - ouvrir la fenetre</a></li><li><a href="011"><span class="numbers">011</span> - faire des dessins</a></li><li><a href="999"><span class="numbers">999</span> - des trucs</a></li>
</ul>

	<div id="menu_btn">
		<img class="btn" src="../img/menu.svg">
	</div>
</div>
<div class="animation">
	<div class="mario"></div>
	<div class="cloud"></div>
	<div class="mountain1" id="mountain0"></div>
	<div class="mountain2" id="mountain1"></div>
	<div class="mountain1" id="mountain2"></div>
</div>
<div class="content" id="content">
<article id="a0">
<h1>Backbuffer</h1>
    <p>
      Nous allons mettre un place un buffer (une zone de la mémoire)
      que nous passerons à windows pour que windows l'affiche à l'écran.
    </p>
    <p>
      Ce n'est pas la méthode la plus efficiente:
      de nos jours, tout passe par la carte graphique.
      Mais ce projet ayant pour but de montrer comment faire un
      jeu depuis zero, je préfére montrer comment
      implémenter cette partie. De plus, au moment
      de rajouter l'utilisation du GPU, nous aurrons un zolie
      boost de performance gratuite.
    </p>
    <p>
      Donc, ça remonte au temps où nous n'avions pas
      grand chose en termes de GPU. On écrivais tout
      soi-même et la seule instruction donnée au GPU
      était de rendre à l'écran ce buffer.<br/>
      C'est basiquement ce qu'on va faire et c'est la premiére étape
      pour comprendre comment un renderer (prononcé à l'anglaise)
      (moteur graphique) fonctionne.
    </p>
</article>

<article id="a1">
<h1>Quitter notre application?</h1>
    <p>
      Pour rajouter rapidement la fonction de fermeture à notre application,
      nous aurions pour rajouter un appel à
      <a href="https://msdn.microsoft.com/fr-fr/library/windows/desktop/ms644945(v=vs.85).aspx">PostQuitMessage</a>
      (avec 0 comme code de fermeture) lors du message WM_CLOSE & WM_DESTROY.<br/>
      Mais ce n'est pas la façon dont on va le faire.
    </p>
    <p>
      //SIDENOTE: Pour les gens ayant beaucoup d'expérience avec la POO,
      arrêtez de vous tirer les cheveux. Vous allez finir chauve.<br/>
      La POO impose une symétrie compléte du constructeur et du
      destructeur pour l'allocation et la désalocation des ressources.<br/>
      Ce que ça veux dire c'est qu'à chaque action que l'on fait,
      si il y a une quelconque façon de netoyer ça, tu dois le faire.<br/>
      Et qu'il faut faire ça même si il n'y a pas besoin de netoyer.<br/>
      Vous pouvez penser que ce n'est pas grave. Mais ça l'est.
    </p>
    <p>
      La POO force à penser les choses en termes d'individus, alors
      qu'il faut penser les choses en tant que groupe, en tant que systeme.
      Et ce que ça veux dire c'est l'"individu" va intéragir avec
      d'autres indivius et que perdre du temps à nettoyer après chaque
      individu est une perte de performance. Il est beaucoup
      plus optimal de netoyer plusieurs individus en même temps (par
      exemple).
    </p>
    <p>
      Dans note cas, c'est windows qui fait ce grand nettoyage après
      la fin de notre application.
    </p>
</article>

<article id="a2">
<h1>Quitter notre application!</h1>
    <p>
      On va utiliser une variable globale.
    </p>
    <pre class="red tooltip">
   ▄▄▄▄▄▄▄▄       
 ▄▀ ▄   ▄  ▀▄     
█   █   █    █    
█   ▀   ▀    █▄   
▀▄  ▄▄▄▄    ▄▀██▄ 
  ▀▄▄▄▄▄▄▄▄▀   ██▀
       █      ███ 
       █        █ 
     ▄▄█▄▄▄▄▄▄▄▀  
    █  █          
    █  █          
    ▀  █          
     ▄▀▀▀▄        
     █   █        
     █   █        
     <span class="tooltiptext">Robert, développeur expérimenté.</span>
    </pre>
</article>

<article id="a3">
<h1>MainWindowCallback</h1>
    <p>
      Vous vous souvenez de
      <a href="https://msdn.microsoft.com/fr-fr/library/windows/desktop/ms644936(v=vs.85).aspx">GetMessage</a>
      ?<br/>
      Cette méthode <b>attend</b> que windows est un message à pop de la queue
      de messages. Et pendant ce temps, notre application ne fais strictement rien.
      C'est un gos désavantage pour pouvoir faire un jeu video.
    </p>
    <p>
      La solution est d'utiliser
      <a href="https://msdn.microsoft.com/fr-fr/library/windows/desktop/ms644943(v=vs.85).aspx">PeekMessage</a>
      pour vérifier si il y a des messages dans la queue avant de chercher à
      les récuperer.
    </p>
</article>

	</div>


<div id="sound_btn">
	<img src="../img/speaker.svg" id="svg_song" class="invisible">
	<img src="../img/mute.svg" id="svg_mute">
</div>

<script type="text/javascript" src="../js/script_song.js"></script>
</body>
</html>
