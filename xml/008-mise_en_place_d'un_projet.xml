<?xml version="1.0" encoding="UTF-8"?>
<div>
  <article>
    <h1>Explication</h1>
    <p>
      Pour obtenir une meilleure flexibilitée dans la compilation,
      ansi que de permettre l'utilisation d'un éditeur de code externe,
      mais aussi d'autres raisons
      <span class="mini">*cough* *cough* Vusial Studio Crash *cough* *cough*</span>,
      nous allons voir comment former notre prope environement de développement.
    </p>
    <p>
      Notez que c'est la façon dont <span class="gras">JE</span> le fais.<br/>
      Vous n'êtes pas obligé de tout suivre à la lettre.
    </p>
  </article>
  
  <article>
    <h1>Le faux disque dur</h1>
    <p>
      Le chemin vers un dique dur est très court: "C:/" ou encore "D:/".<br/>
      Un truc que j'aime faire c'est prendre le dossier dans lequel
      je vais faire mon développement et lui attribuer une lettre:<br/>
      pour celà existe la commande "subst":
      <img src="../img/set_up/subst.png" />
      Dans mon cas, ce sera subst W: "D:\Party Junkie".
    </p>
    <p>
      Pour ceux qui ne savent pas ouvrir une invite de commande:
      <ul>
        <li>Appuyer sur les touches: Windows+R</li>
        <li>Taper: cmd</li>
        <li>Appuyer sur Entrer</li>
        <li>????</li>
        <li>PROFIT!!!</li>
      </ul>
    </p>
  </article>
  
  <article>
    <h1>L'éditeur de code</h1>
    <p>
      Comme éditeur de code, je vais utiliser
      <a href="https://www.gnu.org/software/emacs/">Emacs</a>
      dont le fichier de configuration sera mis à disposition.<br/>
      Mais strictement rien ne vous empêche d'utiliser un autre éditeur,
      ou encore d'utiliser visual studio commme éditeur de code.
    </p>
    <p>
      //NOTE(doc):
      // mkdir misc
      // cp .emacs
    </p>
  </article>

  <article>
    <h1>Créer des dossiers</h1>
    <p>
      <pre class="prettyprint lang-batch">
        cd w:
        mkdir misc
        mkdir code
        mkdir bin
      </pre>
    </p>
    <p>
      //TODO(doc): fix google coloartion code to include batch
    </p>
  </article>
  
  <article>
    <h1>Créer des dossiers</h1>
    <p>
      <pre class="prettyprint lang-cpp">
#include &lt;windows.h&gt;
int CALLBACK
WinMain(HINSTANCE Instance,
    HINSTANCE PrevInstance,
    LPSTR     CmdLine,
    int       CmdShow){
    return(0);
}
      </pre>
    </p>
    <p>
      //TODO(doc): fix google coloration code to include windows specific stuff
    </p>
  </article>

  <article>
    <h1>La compilation p1</h1>
    <p>
      La méthode que je vais présenter choque et horifie absoluement tous
      les dévelopeurs, et je m'en excuse.<br/>
      Mais vous savez quoi ? C'est comme ça que je build mes trucs et je ne vais
      pas changer de méthode.
    </p>
    <p>
      A la base de mon project je crée un "build.bat".
    </p>
    <img style="max-height: 100vh;" src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f4/The_Scream.jpg/800px-The_Scream.jpg"/>
    <p>
      Un .bat est un fichier de script sous windows qui peut faire ce que
      l'invite de commande peut faire.
    </p>
    <p>
      La premiére ligne de ce build.bat est la suivante:
    </p>
    <pre class="prettyprint lang-batch">
      @echo off
    </pre>
    <p>
      "echo off" dis à la cmd de ne pas afficher la commande avant de
      l'éxécuter; et le @ avant de ne pas afficher "echo off" avant de l'éxécuter.
    </p>
    <p>
      Pour l'info, la plupart des développeurs utilise un make-system ou
      build-system, tel que
      <a href="https://www.gnu.org/software/make/">GNU make</a>,
      <a href="https://ninja-build.org/">Ninja</a> ou encore
      <a href="https://cmake.org/">CMake</a>.<br>
    </p>
    <p>
      <div class="two_column">
        <img style="height: 150px;" src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f4/The_Scream.jpg/800px-The_Scream.jpg"/>
        <p>
          Et genéralement les développeurs aiment utiliser des outils de build,
          lançant des outils de build, lançant des outils de build,
          lançant des scripts, lançant d'autres outils de build; et avec tout ça
          des outils d'analyse d'outils de build pour lancer
          des outils d'optimisation des outils de build, ainsi que
          des outils d'optimisation d'outils d'optimisation des outils de build,
          et toute cette folie...
        </p>
      </div>
    </p>
    <p>
      <div class="two_column">
        <p>
          Et ils aiment ça.
        </p>
        <img style="height:50px;" src="https://i.ytimg.com/i/jJ3-Fs8wmfxZXAo4IK02mA/mq1.jpg?v=df668c"/>
      </div>
    </p>
    <p>
      La raison pour laquelle je ne le fais plus c'est que l'on
      fini par passer beaucoup de temps à parametrer ces outils,
      et beaucoup moins à programmer.<br/>
      La raison pour laquelle les programmeurs utilisent ce genre d'outils
      est de faire un sorte de compiler que les parities du code necessaire,
      et donc éviter de recompiler tout le projet (plus le projet est gros,
      plus il prend du temps à compiler).<br/>
      Mais, pour avoir compilé de gros projets (plus gros que ce que je vais
      faire dans cette projet (0.5 Go de code en C++)), compiler sans ces
      outils ne prends jamais plus de 5 secondes.
    </p>
  </article>
  
  <article>
    <h1>La compilation p2</h1>
    <p>
      Le compilateur C++ de Microsoft est "cl.exe".<br/>
      Mais même après avoir installé Visual Studio, vous ne pourrez pas
      l'appeller depuis l'invite de commande.
      La raison pour laquelle vous ne pouvez pas l'apellé c'est
      que le chemin jusqu'à cet executable n'est pas dans la variable
      d'environement 'path' (vous pouvez taper "set" dans la cmd pour
      avoir la liste de ces variables d'environnement).
    </p>
    <p>
      Pour corriger ça (ainsi que mettre en place d'autres choses),
      l'équipe de développement de Visual Studio nous a déjà fait un .bat
      que l'on peut utilisé et qui a été téléchargé avec Visual Studio.<br/>
      Il se situe généralement à
      "C:\Program Files (x86)\Microsoft Visual Studio 14.0\VC\vcvarsall.bat".<br/>
      <span class="bold" style="color: red;">Verifiez bien que ce fichier existe.</span><br/>
      En batch (le language de scripting de la cmd), call permet d'appeler
      un autre .bat.
    </p>
    <p>
      Pour éviter de devoir relancer vcvarsall.bat plusieurs fois,
      on va créer un .bat qui va ce lancer au démarage de la session:
      Tou ce qui ce trouve dans le dossier
      "C:\ProgramData\Microsoft\Windows\Start Menu\Programs\StartUp"
      va ce lancer au démarage de toutes les sessions du poste actuel.<br/>
      Il suffit de créer un _.bat dans ce dossier contenant
      (à adapter sur votre machine):
    </p>
    <pre class="prettyprint lang-batch">
      @echo off
      subst W: "D:\Party Junkie"
      call "C:\Program Files (x86)\Microsoft Visual Studio 14.0\VC\vcvarsall.bat" x64
    </pre>
    <p>
      Le "x64" spécifie à vcvarsall.bat de tout mettre en place pour une compilation
      en 64bits ("x86 spécifie une compilation 32bits).
    </p>
  </article>
  
  <article>
    <h1>La compilation p3</h1>
    <p>
      Une fois la parie 2 faite, nous pouvons continuer notre build.bat.
    </p>
  </article>
</div>
